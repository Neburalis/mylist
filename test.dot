digraph DoublyLinkedList {
    // Настройки графа
    rankdir=LR;

    node [shape=record, height=0.5];
    edge [arrowhead=vee, arrowsize=0.8];

    list_t [label="<head> head | <tail> tail | <free> free"]
    node1 [label="<index> index = 1 | <data> data = 10 | { <prev> prev = 0 | <next> next = 2}"];
    node2 [label="<index> index = 2 | <data> data = 20 | { <prev> prev = 1 | <next> next = 4}"];
    node3 [label="<index> index = 3 | <data> data = 25 | { <prev> prev = 3 | <next> next = 0}"];
    node4 [label="<index> index = 4 | <data> data = 26 | { <prev> prev = 2 | <next> next = 5}"];
    node5 [label="<index> index = 5 | <data> data = 27 | { <prev> prev = 4 | <next> next = 3}"];
    node6 [label="<index> index = 6 | <data> data = empty | { <prev> prev = -1 | <next> next = 7}", color = "#e39e3d"];
    node7 [label="<index> index = 7 | <data> data = empty | { <prev> prev = -1 | <next> next = 0}", color = "#e39e3d"];

    // Выравнивание
    list_t -> node1 [weight=100, style=invis, ];
    node1 -> node2 [weight=100, style=invis, ];
    node2 -> node3 [weight=100, style=invis, ];
    node3 -> node4 [weight=100, style=invis, ];
    node4 -> node5 [weight=100, style=invis, ];
    node5 -> node6 [weight=100, style=invis, ];
    node6 -> node7 [weight=100, style=invis, ];

    // Связи next
    node1 -> node2 [color = "#0c0ccc"];
    node2 -> node4 [color = "#0c0ccc"];
    node5 -> node3 [color = "#0c0ccc"];
    node4 -> node5 [color = "#0c0ccc"];
    
    // Связи free
    node6 -> node7 [color = "#e39e3d"];

    // Связи prev
    node3:prev -> node5:prev [color = "#3dad3d"];
    node2:prev -> node1:prev [color = "#3dad3d"];
    node5:prev -> node4:prev [color = "#3dad3d"];
    node4:prev -> node2:prev [color = "#3dad3d"];

    // Опционально: указатели на начало и конец
    head [label="head", weight = 12, color = "gray"];
    tail [label="tail", weight = 12, color = "gray"];
    free [label="free", weight = 12, color = "#e39e3d"];
    head -> node1:prev;
    node3 -> tail;
    free -> node6 [color = "#e39e3d"];
}